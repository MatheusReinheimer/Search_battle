<!DOCTYPE html>
<html>
<head>
  <title>SearchBattle</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
<!--   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
  <meta charset="UTF-8">
</head>
<body>

  <nav class="navbar navbar-default">
    <h3>SearchBattle</h3>
    <div class="searchbar">
      <div class="input-group">
        <input type="text" class="form-control" id="search_input" placeholder="Search for...">
        <span class="input-group-btn">
          <button class="btn btn-default" id="search_button" type="button">GO!</button>
        </span>
      </div><!-- /input-group -->
    </div><!-- /searchbattle -->
  </nav><!-- /top -->

  <div class="container" id="result">
    <div  class="row">
      <div class="col-md-6">
        <div class="panel panel-default google">
          <div class="panel-heading">Google</div>
          <div class="panel-body">
            Panel content
          </div>
        </div><!-- /panel panel-defaut bing -->
      </div><!-- /col-md-6 -->

      <div class="col-md-6">
        <div class= "panel panel-default bing">
          <div class="panel-heading">Bing</div>
          <div class="panel-body">
            Panel content
          </div>
        </div><!-- /panel panel-defaut bing -->
      </div><!-- /col-md-6 -->

    </div><!-- row -->

  </div><!-- /container -->

  <script type="text/javascript">
    $( "#search_button" ).click(function() {
      value = $("#search_input").val();
      alert(value);

      $.ajax({
        url: '/search' ,
        type: 'get',
        data: {
          param: value
        },
        success: function(data, jqXHR){
          $("#result").html(jqXHR.responseText)
          // alert(data.result);
        },
        error: function(jqXHR,  errorThrown){
          // $("#result").html("Erro ! Expressão ou restrições com valores errados.");
        }
      });
    });
  </script>
  <%= yield %>

</body>
</html>
